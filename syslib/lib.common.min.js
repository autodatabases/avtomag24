function getElementById(e,t){var n=browserStr.indexOf("msie");return t||(t=document),hasDOM?t.getElementById(e):n?t.all[e]:void 0}function _getElementById(e,t){var n=browserStr.indexOf("msie");return t||(t=document),hasDOM?t.getElementById(e):n?t.all[e]:void 0}function toggleDisplay(e){if(_getElementById(e))return element=_getElementById(e),"none"==element.style.display?element.style.display="":element.style.display="none",element.style.display}function toggleDisplayValue(e,t){_getElementById(e)&&(element=_getElementById(e),element.style.display=t)}function bindEvent(e,t,n){document.attachEvent?e.attachEvent("on"+t,n):document.addEventListener&&e.addEventListener(t,n,0)}function cancelBubble(e){evt=e,evt.stopPropagation?evt.stopPropagation():evt.cancelBubble=!0}function isElementVisible(e){var t=e;if(!t)return!1;do{if(t.dataset&&t.dataset.hasOwnProperty("needValidate"))return!0;if(t.style&&"none"==t.style.display||"none"===t.style&&"hidden"!=t.type)return!1}while(t=getParentElement(t));return!0}function getParentElement(e){return e.parentElement?e.parentElement:e.parentNode?e.parentNode:e.offsetParent?e.offsetParent:void 0}function digitsCheck(e){e=e||window.event;var t=(e.target||e.srcElement,document.all),n=t?e.keyCode:e.which;String.fromCharCode(n);return n<32||n>=48&&n<=57}function firstNullsTruncate(e){for(;""!=e&&"0"==e.charAt(0)&&1!=e.length;)e=e.substr(1);return e}function floatRoutine(e,t){var n=!1,o=e.value,r=o;if(""==(o=o.replace(/\s/g,"")))return e.value="",!0;o=o.replace(/,/g,".");var i=o;o=o.replace(/[^\d.-]/g,""),i!=o&&(n=!0);for(var a="",c=0;"-"==o.charAt(0)||"."==o.charAt(0);)"."==o.charAt(0)&&c++,a=o.charAt(0),o=o.substr(1);for(;"-"==o.charAt(o.length-1)||"."==o.charAt(o.length-1);)"."==o.charAt(o.length-1)&&c++,o=o.substr(0,o.length-1);o=o.replace(/-/g,"");var l=o.indexOf(".");if(-1!=l){var d=o.substr(0,l),s=o.substr(l+1);d=firstNullsTruncate(d),(c||-1!=s.indexOf("."))&&(n=!0),s=s.replace(/\./g,""),o=d+"."+s}else o=firstNullsTruncate(o);o=o?("-"==a?"-":"")+o:"",""==o&&o!=r&&(n=!0),"on"==t&&n&&alert("Значение поля будет скорректировано.\n\nВведенное значение: "+r+"\nСкорректированное значение: "+o),e.value=o}function checkUnsignedFloat(e){return e=e||window.event,e.keyCode>=48&&e.keyCode<=57||8==e.keyCode||9==e.keyCode||36==e.keyCode||35==e.keyCode||46==e.keyCode||e.keyCode>=37&&e.keyCode<=40||e.keyCode>=96&&e.keyCode<=105||190==e.keyCode||110==e.keyCode}function checkUnsignedInt(e){return e=e||window.event,e.keyCode>=48&&e.keyCode<=57||8==e.keyCode||9==e.keyCode||36==e.keyCode||35==e.keyCode||46==e.keyCode||e.keyCode>=37&&e.keyCode<=40||e.keyCode>=96&&e.keyCode<=105}function toggleDisableInput(e){e.hasAttribute("disabled")?e.removeAttribute("disabled"):e.setAttribute("disabled",!0)}function setDisableInput(e,t){1==t?e.setAttribute("disabled","disabled"):e.removeAttribute("disabled")}function shrinkWindow(e,t){newWidth=document.body.scrollWidth+e,newHeight=document.body.scrollHeight+t,newWidth>window.screen.width+100&&(newWidth=window.screen.width-100),newHeight>window.screen.height+100&&(newHeight=window.screen.height-100),newX=(window.screen.width-newWidth)/2,newY=(window.screen.height-newHeight)/2-10,window.resizeTo(newWidth,newHeight),window.moveTo(newX,newY)}function setCookie(e,t,n,o){n||(n=977616e3),o||(o="/");var r=new Date,i=r.getTime()+n;r.setTime(i),t=encodeURIComponent(t),document.cookie=e+"="+t+"; expires="+r.toGMTString()+"; path="+o}function getCookie(e){return document.cookie.length>0&&(c_start=document.cookie.indexOf(e+"="),-1!=c_start)?(c_start=c_start+e.length+1,c_end=document.cookie.indexOf(";",c_start),-1==c_end&&(c_end=document.cookie.length),unescape(document.cookie.substring(c_start,c_end))):""}function trim(e){return e.replace(/^\s+|\s+$/g,"")}function loadContent(e,t,n,o,r,i,a,c){r=r||!1,n=n||!1,a=a||"get";var l=null;l="object"==typeof e?jqWar(e):jqWar("#"+e),jqWar.ajax({url:t,async:n,type:a}).done(function(e){if(r&&-1!=e.indexOf("<html>"))return void location.reload();l&&l.html(e),c&&c(),"function"==typeof i&&i()})}function setValidate(e,t,n){try{if(t)var o="v_ok",r=Locale.get("FormValidator.fieldGood");else var o="v_nok",r=Locale.get("FormValidator.fieldBad")+": "+n;var i=e.get("name")+"_v";$(i)&&$(i).dispose();var a=new Element("span",{class:"inputVerify "+o,id:i}),c=new Element("a",{href:"#",onclick:"return false",alt:r,title:r}),l=e;$(e.get("id")+"_ds")&&(l=$(e.get("id")+"_ds"));var d="-"+(getHeightForce(l)-2)+"px",s=getWidthForce(l)+"px",u=l.getNext();"checkbox"===l.getAttribute("type")&&"LABEL"===u.tagName&&l.getAttribute("id")==l.getNext().getAttribute("for")&&(a.setStyles({display:"inline-block"}),d="-"+(getHeightForce(l)-4)+"px",s="-32px",l=l.getNext()),c.setStyles({top:d,left:s}),a.injectAfter(l),c.injectInside($(i))}catch(e){}}function setValidateField(e,t){try{e.validateField(t,!0)}catch(e){}}function getWidthForce(e){return e.measure(function(){return this.getSize()}).x}function getHeightForce(e){return e.measure(function(){return this.getSize()}).y}function htmlspecialchars(e){if(!e)return"";var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return e.replace(/[&<>"']/g,function(e){return t[e]})}function open_tbox_html(e,t,n){var o=document.getElementById(e).innerHTML;TINY.box.show({html:o,width:t,height:n,animate:!1,close:!0,opacity:50})}function open_tbox_frame(e,t,n){t=t||630,n=n||500,TINY.box.show({iframe:e,width:t,height:n,animate:!1,close:!0,opacity:50})}function trJs(e){return"undefined"==typeof jsTr?e:void 0===jsTr[e]?e:jsTr[e]}function checkAll(e){jqWar('input[type="checkbox"][name^="checkPos"]').prop("checked",e.currentTarget.checked),jqWar('input[type="checkbox"][class="toggle-all"]').prop("checked",e.currentTarget.checked)}function toggleIfAll(){jqWar('input[type="checkbox"][name^="checkPos"]').not(":checked").length>0?jqWar('input[type="checkbox"][class="toggle-all"]').prop("checked",!1):jqWar('input[type="checkbox"][class="toggle-all"]').prop("checked",!0)}function import2basket(e,t,n){var o=screen.availWidth,r=screen.availHeight,i=parseInt(.8*o),a=parseInt(.6*r),c="?script="+(e||"");o=parseInt((o-i)/2),r=parseInt((r-a)/2),n&&(c+="&basket_admin=1"),window.open((t||"/shop/import_to_basket.html")+c,"import2basket","width="+i+",height="+a+",toolbar=0,location=0,directories=0,menubar=0,scrollbars=yes,status=0,resizable=yes,top="+r+",screenY="+r+",left="+o+",screenX="+o).focus()}function setAttributeBySelector(e,t,n){[].forEach.call(document.querySelectorAll(e),function(e){!1===n?e.removeAttribute(t):e.setAttribute(t,n)})}var browserStr=new String(navigator.userAgent.toLowerCase()),hasDOM=!!document.getElementById;"function"!=typeof Array.prototype.forEach&&(Array.prototype.forEach=function(e,t){if("number"==typeof this.length&&"function"==typeof e&&"object"==typeof this)for(var n=0;n<this.length;n++){if(!(n in this))return;e.call(t||this,this[n],n,this)}}),function(e){e.forEach(function(e){e.hasOwnProperty("remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})})}([Element.prototype,CharacterData.prototype,DocumentType.prototype]);